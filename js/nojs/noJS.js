/*Thu Nov 14 2013 11:05:11 GMT+0800 (中国标准时间)-http://nolure.github.io/nojs.docs*/!function(window,undefined){function type(a){return null==a?String(a):Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function load(a){function b(b){c(h.getPath(a[b],i))}function c(b){h.point=a.point?a.point:b;var c=d.createElement("script");c.async=!0,h.event(c,function(){e(this,1,b)},function(){e(this,2,b)}),c.src=b,head.appendChild(c)}function e(a,c,d){j++,a&&head.removeChild(a),m&&entrance[m]&&(modules[d].cmd||(entrance[m].branch--,entrance[m].branch<=0&&(h.now[1]=entrance[m].callback,entrance[m]=null))),j>=k?(h.callback(h.now[1]),h.fileItem.length>0?h.begin():h.state=!1):i.queue===!0&&a&&b(j)}var f,g,h=load,i=h.now[2],j=0,k=a.length,l=k,m=a.entrance;for(i.base=i.base!=undefined?i.base:config.base,i.fix=i.fix!=undefined?i.fix:config.fix,i.queue=i.queue===!1?!1:config.queue,f=k-1;f>=0;f--)g=h.getPath(a[f],i),modules[g]?(a.splice(f,1),e(null,1,g),k--):(modules[g]={id:g,config:i},m&&(modules[g].entrance=m),modules[a[f]]={id:g,config:i,init:!0});if(k=a.length){if(m&&(entrance[m]?entrance[m].branch+=k-l:h.now[1]&&(entrance[m]={branch:k,callback:h.now[1]},h.now[1]=null)),a.point)for(f=0;f<a.point.length;f++)g=load.getPath(a.point[f],i),modules[a.point[f]]={id:g,config:i},modules[g]={id:g,config:i},a.point[f]=g;j=0,i.queue===!0&&b(0)}}function require(a){var b;return a=load.getPath(a),b=modules[a],b&&getExports(b)}function parseRequire(a){var b=[],c=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,d=/\\\\/g;return a.replace(d,"").replace(c,function(a,c,d){d&&b.push(d)}),b}function done(){if(!load.state){var a,b,c=[];for(a in modules)b=modules[a],"start"==a||b.init||b.factory&&c.push(b);for(a=c.length-1;a>=0;a--)b=c[a],getExports(b);done.use()}}function depsToExports(a,b){var c,d,e,f=[];if(!a)return f;for(d=0;d<a.length;d++)e=a[d],c=load.getPath(e,modules[e]&&modules[e].config),c=modules[c],c&&(getExports(c),b?globalExports.push(c.exports):f.push(c.exports));return f}function getExports(a){if(a.init)return a.exports;a.init=!0;var b=[require].concat(globalExports);return a.exports=a.exports===undefined?("function"==type(a.factory)?a.factory.apply(null,b):a.factory)||{}:a.exports,a.exports}function getSrc(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function defaultLoad(){var i,T=load,nojsSrc=getSrc(nojsScript),_modules=nojsScript.getAttribute("data-main"),_config=nojsScript.getAttribute("data-config");config.base=nojsSrc.split("/").slice(0,-2).join("/")+"/",(_config||_modules)&&(_config&&(/\.js$/.test(_config)?(configFile=1,onReady=function(){config.pack||(configFile=2,T.add([_config],function(){if(defer){for(var a=0;a<defer.length;a++)noJS.use.apply(null,defer[a]);defer=null}},{fix:"",state:!0})),onReady=null},T.event(nojsScript,onReady)):(_config=eval("({"+_config+"})"),noJS.config(_config))),_modules&&(_modules=_modules.split(","),defaultLoad.deps=defaultLoad.deps.concat(_modules),T.add(_modules)))}var _noJS=window.noJS;if(!_noJS||!_noJS.version){var d=window.document,head=d.getElementsByTagName("head")[0],noJS=window.noJS={version:"1.0"},modules={start:[]},entrance=[],globalExports=[],config={queue:!0,fix:".js"},onReady,globalReady=!0,configFile=0;load.fileItem=[],load.now=null,load.point=null,load.state=null,load.add=function(a,b,c,d){var e=load;"array"==type(a)&&a.length&&(c=c||{},e.fileItem[1==d?"unshift":"push"]([a,b,c]),!e.state&&e.begin())},load.begin=function(){(2!=configFile||!load.fileItem[0]||load.fileItem[0][2].state)&&(load.state=!0,load.now=load.fileItem.shift(),load(load.now[0]))},load.getPath=function(a,b){if("string"!=typeof a)return"";b=b||modules[a]&&modules[a].config||config;var c,d,e,f,g=a.indexOf("./"),h=a.lastIndexOf("./"),i=b.base,j=b.fix;if(!i||""==i)return a+j;if(0!=g)return i+a+j;if(c=g==h?1:h/2+1,e=0==i.indexOf("http")?3:1,i=i.split("/"),a=a.replace(/\.\//g,""),d=i.length,d>e&&d>c){for(f=0;c+1>f;f++)i.pop();i=i.join("/"),i=""==i?"":i+"/"}return i+a+j},load.getPaths=function(a){function b(a){return load.getPath(a)}var c=type(a),d=a;if("string"==c)return b(a);if("array"==c){d=[];for(var e=0;e<a.length;e++)d[e]=b(a[e])}return d},load.event=function(a,b,c){function d(a){a.onreadystatechange=a.onload=a.onerror=null}a.onload=a.onreadystatechange=function(){/^(?:loaded|complete|undefined)$/.test(this.readyState)&&(b&&b.call(this),d(this))},a.onerror=function(){c&&c.call(this),d(this)}},load.callback=function(a){a&&a(depsToExports(a.deps))},require.async=function(){var a=arguments[0],b=arguments[1],c=arguments[2]||{};c.async=!0,noJS.use(a,b,c)},window.define=function(){function a(a){a=a||0,c&&(c.branch+=a-1,c.branch<=0&&(load.callback(c.callback),c=null))}var b,c,d,e=Array.prototype.slice.call(arguments),f=e.slice(-1)[0],g=type(f),h="array"==type(load.point)?load.point.shift():load.point;h=modules[h],h.factory=f,h.cmd=1,d=h.entrance,d&&(c=entrance[d]);var i=type(load.point);if(config.pack&&"array"==i&&!load.point.length&&a(),"function"==g){if(b=parseRequire(f.toString()),config.pack){if("string"==i)if(b.length){var j,k;for(load.point=load.getPaths(b),j=0;j<b.length;j++)k=load.point[j],modules[k]||(modules[k]={id:k},c&&(modules[k].entrance=d))}else a();return}b.length&&(h.deps=[].concat(b),c&&(b.entrance=d),load.add(b)),a(b.length)}else h.exports=f},define.cmd=!0,done.use=function(){for(;modules.start.length;)load.callback(modules.start.shift())},noJS.config=function(a){if(a=a||{},a.pack||1!=configFile){!a.pack&&onReady;var b;for(b in a)config[b]=a[b];configFile=null;var c=config.global;if(!globalExports.length&&c&&(c="string"==typeof c?[c]:c,globalReady=null,"array"==type(c))){if(defaultLoad.deps=defaultLoad.gdeps=[].concat(c),config.pack){var d=c;c=c.slice(0,1),c.point=d}load.add(c,function(){depsToExports(defaultLoad.deps,!0),globalReady=!0,done.use()},null,!0)}var e,f,g,h,i,j,k=config.page;if(k){if("string"==typeof k)return noJS.use(k),noJS;e=location.href.split(/[#?]/)[0],f=location.host,g=function(){return/^www[\.]/.test(f)||f.indexOf(".")==f.lastIndexOf(".")}(),h=new RegExp(f.replace(/\./g,"\\.")+"/$").test(e);a:for(b in k)if("main"==b&&g||new RegExp("^"+b+"[.]").test(f)){i=k[b];for(j in i)if("index"==j&&h||e.indexOf(j)>1){noJS.use(i[j]);break a}}}return noJS}};var defer=[];noJS.use=function(a,b,c){function d(a){a=c&&c.async&&a?a.slice(globalExports.length,a.length):a,b&&b.apply(null,a)}if(2==configFile&&defer)return defer.push(Array.prototype.slice.call(arguments)),noJS;var e=load,f=type(a);if(!a)return noJS;if("function"==f)b=a,d.deps=[].concat(defaultLoad.gdeps),modules.start.push(d),globalReady&&done.use();else if("array"==f||"string"==f){"string"==f&&(a=[a]),"object"==type(b)&&(c=b,b=null),defaultLoad.deps=defaultLoad.deps.concat(a),d.deps=defaultLoad.gdeps.concat(a);var g=entrance.length+"";a.entrance=g,entrance[g]=null,e.add(a,d,c)}return noJS};var script=d.getElementsByTagName("script"),Len=script.length,nojsScript=d.getElementById("nojs")||script[Len-1];if(defaultLoad.deps=[],defaultLoad.gdeps=[],!function(){for(var a,b,a=0;Len>a;a++)b=getSrc(script[a]),b&&(modules[b]={id:b})}(),defaultLoad(),_noJS&&_noJS.args)for(var methods=["define","config","use"],args=_noJS.args,i=0;i<args.length;i+=2)noJS[methods[args[i]]].apply(noJS,args[i+1])}}(this),!function(){var a="nolure.github.io"!=location.host,b=/[?&]nojs-debug=(true|false)(?:&|$|#)/.exec(location.href);b&&(a="true"==b[1]?!0:!1),noJS.config({base:a?"src/":"js/",pack:!a&&!0,global:location.href.indexOf("m.html")>0?["m/zepto","m/ui"]:["nojs/jquery","nojs/ui"],page:"main"})}();