/*nolure@vip.qq.com|http://nolure.github.io/nojs.docs*/define("nojs/module/lazyload",[],function(require,a){function b(a){this.options=a=a||{},this.area=a.area||c,this.attr=a.attr||"data-lazyload",this.init()}var c=a(window),d=a(document);return b.prototype={init:function(){var a,b=this;this.area.on("scroll.lazyload resize.lazyload",function(){clearTimeout(a),a=setTimeout(function(){b.load()},15)}),this.load()},load:function(b,c){function e(d){g=b.eq(d),g.length&&(i=g.attr(m.attr),i&&(g.off("load.lazyload").on("load.lazyload",function(){a(this).removeAttr(m.attr).fadeTo(200,1),m.options.onload&&m.options.onload.call(this),a(this).off("load.lazyload")}),c?g.attr("src",i):(o>0&&(n.top=0),h=g.offset().top-o,j=h>n.top&&h<n.height+n.top,k=g.outerHeight()+h<n.height&&g.outerHeight()+h>=0,l=0>=h&&g.outerHeight()+h>n.height,(j||k||l)&&g.attr("src",i))),d++,file=f.find("img["+m.attr+"]"),setTimeout(function(){e(d)},10))}var f=this.area[0]===window?d:this.area;if(b=b||f.find("img["+this.attr+"]").css("opacity",.2),!b.length&&a.isReady)return this.area.off("scroll.lazyload resize.lazyload"),void 0;var g,h,i,j,k,l,m=this,n=this.position(),o=this.area[0]===window?0:this.area.offset().top;e(0)},position:function(){var a=this.area;return{width:a.width(),height:a.innerHeight(),top:a.scrollTop(),left:a.scrollLeft()}}},b});