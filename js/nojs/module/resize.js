/*Thu Nov 14 2013 11:05:11 GMT+0800 (中国标准时间)-http://nolure.github.io/nojs.docs*/define("nojs/module/resize",[],function(require,a){function b(b,c){this.element="string"==typeof b?a("#"+b):b,this.element&&this.element.length&&(this.options=c=c||{},this.position=this.element.css("position"),this.points=c.points||["tl","t","tr","r","br","b","bl","l"],"static"==this.position&&this.element.css("position","relative"),this.resizeStart=c.resizeStart,this.resize=c.resize,this.resizeEnd=c.resizeEnd,this.init())}return b.prototype={init:function(){var b="";a.each(this.points,function(a,c){b+='<div class="nj_resize_handler nj_resize_handler_'+c+'" data-direction="'+c+'"></div>'}),this.element.append(b),this.bind()},bind:function(){function b(a){e={x:a.clientX,y:a.clientY};var b=e.x-d.x,c=e.y-d.y,i={};/^(t|b)$/.test(f)||(i.width=g.width+b),/^(l|r)$/.test(f)||(i.height=g.height+c),/^(tl|t|tr)$/.test(f)&&(i.top=g.top+c,i.height=g.height-c),/^(tl|l|bl)$/.test(f)&&(i.left=g.left+b,i.width=g.width-b),h.element.css(i),h.resize&&h.resize.call(h),a.preventDefault()}function c(){i.off("mousemove.resize mouseup.resize"),h.resizeEnd&&h.resizeEnd.call(h)}var d,e,f,g,h=this,i=a(document);this.element.find("div.nj_resize_handler").mousedown(function(a){return f=this.getAttribute("data-direction"),d={x:a.clientX,y:a.clientY},g={width:h.element.width(),height:h.element.height(),top:parseInt(h.element.css("top"))||0,left:parseInt(h.element.css("left"))||0},h.resizeStart&&h.resizeStart.call(h),a.preventDefault(),a.stopPropagation(),i.on("mousemove.resize",b).on("mouseup.resize",c),!1})}},b});