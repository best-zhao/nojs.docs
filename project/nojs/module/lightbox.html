<link rel="stylesheet" href="css/photo.css" />
<h4 class="p_tit">lightbox</h4>
<h6 class="p_tit">说明：</h6>
<div class="text_info">
	lightbox图片展示效果
	<p>依赖模块：'nojs/module/lightbox'，同时依赖<code>ui.js</code></p>
</div>
<h6 class="p_tit">使用：</h6>
<div class="text_info">
	<script type="text/codelight" code="javascript" key="code">
	noJS.use('nojs/module/lightbox', function($,ui,lightbox){
		new lightbox(dom, options);//@dom:id或jQuery对象
	});
	</script>
	<p>options选项：</p>
	<table width="100%" cellpadding="0" cellspacing="0" class="arg_list">
		<tr>
			<th>参数名</th>
			<th>类型</th>
			<th>描述</th>
			<th>默认值</th>
		</tr>
		<tr>
			<td>tag</td>
			<td>string</td>
			<td>指定容器内可触发事件的html标签</td>
			<td>'img'</td>
		</tr>
		<tr>
			<td>fullScreen</td>
			<td>boolean</td>
			<td>是否全屏显示</td>
			<td>false</td>
		</tr>
		<tr>
			<td>srcRule</td>
			<td>function</td>
			<td>指定大图地址，传入2个参数：src当前缩略图地址和obj当前image对象
			<script type="text/codelight" code="javascript" key="code">
			srcRule : function(src, obj){
				//比如将大图地址写在了指定tag标签的big属性上
				return obj.attr('big');
			}
			</script>	
			</td>
			<td>当前缩略图地址</td>
		</tr>
		<tr>
			<td>onShow</td>
			<td>function</td>
			<td>显示时触发的回调</td>
			<td></td>
		</tr>
		<tr>
			<td>onHide</td>
			<td>function</td>
			<td>隐藏时触发的回调</td>
			<td></td>
		</tr>
	</table>
</div>

<script type="text/templete" id="demo_tmpl">
<div class="photo_player" id="photo_player">
    <div class="clearfix">
        <span class="title"></span><span class="num"><em></em> / <i></i></span>
    </div>
    <div class="operating mb10">
        <a href="" data-action="full">全屏</a>
    </div>
    <div class="content">
        <div class="img"></div>
        <i class="loading"></i>
        <i class="p prev"></i>
        <i class="p next"></i>
    </div>
    <div class="info">
        <div class="desc"></div>
        <div class="pic_list">
            <i class="p prev" data-action="scroll"></i>
            <i class="p next" data-action="scroll"></i>
            <div class="wrap">
                <div class="list clearfix">
                    <img data-title="标题：1" data-desc="描述：13312" src="http://m3.img.libdd.com/farm4/2013/0909/08/B7D2D983BF75D55B20B23FD1DEFCA32558E95BA7DD597_250_375.jpg" big="http://m1.img.libdd.com/farm4/2013/0909/08/B7D2D983BF75D55B20B23FD1DEFCA325A6F1BC3B95B0C_640_960.JPEG" />
                    <img data-title="标题：2" src="http://m1.img.libdd.com/farm5/2013/0909/08/0BAA0604C80B3147A12A677C612ADDBE2E1BB26F56128_250_167.jpg" big="http://m1.img.libdd.com/farm5/2013/0909/08/0BAA0604C80B3147A12A677C612ADDBE4395F37355749_960_640.JPEG" />
                    <img data-title="标题：3" src="http://m1.img.libdd.com/farm5/2013/0909/08/A8088058F219A593F4A34F2499B7E8DCE4A8B4282B31D_250_375.jpg" big="http://m2.img.libdd.com/farm5/2013/0909/08/A8088058F219A593F4A34F2499B7E8DCC3057C8C01C7E_640_960.JPEG" />
                    <img data-title="标题：4" src="http://m3.img.libdd.com/farm4/2013/0909/08/ADE556F02FA06873DE99C465C5149691D9FF0DA41847B_250_167.jpg" big="http://m1.img.libdd.com/farm4/2013/0909/08/ADE556F02FA06873DE99C465C5149691A27122DC55D67_960_640.JPEG" />
                    <img data-title="标题：5" src="http://m3.img.libdd.com/farm4/2013/0909/08/86814B55492C85958CC0FE817AB14211A31B335BC487C_250_375.jpg" big="http://m1.img.libdd.com/farm4/2013/0909/08/86814B55492C85958CC0FE817AB1421104919AD739BD3_640_960.JPEG" />
                    <img data-title="标题：6" src="http://m1.img.libdd.com/farm5/2013/0909/08/D18B26D907E8B6BCD7488C8210259C8874B35BB5B89D8_250_167.jpg" big="http://m2.img.libdd.com/farm5/2013/0909/08/D18B26D907E8B6BCD7488C8210259C880B48C24924F7B_960_640.JPEG" />
                    <img data-title="标题：明星效應 JESSICA ALBA BY DIEGO UCHITEL FOR C MAGAZINE1" src="http://m1.img.libdd.com/farm5/2013/0910/10/B0AF51B8B60774EC47C0901B8F3D5920504082A748BF1_500_750.jpg" big="http://m2.img.libdd.com/farm5/2013/0910/10/B0AF51B8B60774EC47C0901B8F3D5920B661DC154841D_800_1200.jpg" />
                    <img data-title="标题：明星效應 JESSICA ALBA BY DIEGO UCHITEL FOR C MAGAZINE2" src="http://m3.img.libdd.com/farm5/2013/0910/10/A4D55F7833930439788716AABC6745B6410887E2A96A9_250_375.jpg" big="http://m2.img.libdd.com/farm5/2013/0910/10/A4D55F7833930439788716AABC6745B6AA5A0577C801C_800_1200.jpg" />
                    <img data-title="标题：明星效應 JESSICA ALBA BY DIEGO UCHITEL FOR C MAGAZINE3" src="http://m3.img.libdd.com/farm5/2013/0910/10/4FC0191F6C1DC41DA1DB4CEC13F54E16E9F67D2DE5416_250_167.jpg" big="http://m2.img.libdd.com/farm5/2013/0910/10/4FC0191F6C1DC41DA1DB4CEC13F54E16121BC1C2770DD_800_533.jpg" />
                    <img data-title="标题：明星效應 JESSICA ALBA BY DIEGO UCHITEL FOR C MAGAZINE4" src="http://m1.img.libdd.com/farm5/2013/0910/10/BC30B4D9AA51382C54B821A667DA11A875A3E702C4493_250_375.jpg" big="http://m1.img.libdd.com/farm5/2013/0910/10/BC30B4D9AA51382C54B821A667DA11A86DFA62703B914_800_1200.jpg" />
                </div>
            </div>
        </div><!--pic_list-->
    </div><!--info-->
</div>    

<a href="" id="clear_cache" class="nj_btn">clear cache</a>	
<style>
/*demo style*/
#pic_list1 img{cursor:url(img/zoomout.cur),auto}
</style>
</script>

<script>
noJS.use(function($,ui){
	window.demoAction = {
		item : [
			{
				content : $('#demo_tmpl').html()
			}
		],
		callback : function(){
			noJS.use('nojs/module/photo', function($,ui,photo){
				var list = $('#photo_player'),
					img = list.find('.list img'),
					c;
				new photo.player(list, {
					srcRule : function(src,obj){
						return obj.attr('big');
					},
					onShow : function(){
						///this.fullScreen = true;
					}
				});
				//清除图片缓存
				$('#clear_cache').click(function(){
					c = (+new Date);
					img.each(function(){
						$(this).attr({
							'src' : this.src.split('?')[0] + '?t=' + c,
							'big' : $(this).attr('big').split('?')[0] + '?t=' + c
						})
					})
					return false;
				})
				
			});
		}
	}
})


</script>